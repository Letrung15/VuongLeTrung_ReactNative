{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { auth, db } from \"../../../firebase\";\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from \"firebase/auth\";\nimport { getDoc, doc, setDoc } from \"firebase/firestore\";\nvar registerWithEmailAndPassword = function () {\n  var _ref = _asyncToGenerator(function* (name, email, password) {\n    console.log(email, password, name);\n    try {\n      var res = yield createUserWithEmailAndPassword(auth, email, password);\n      var user = res.user;\n      var userDocRef = doc(db, \"users\", user.uid);\n      yield setDoc(userDocRef, {\n        uid: user.uid,\n        name: name,\n        email: email\n      });\n      return {\n        success: true\n      };\n    } catch (error) {\n      console.error(error);\n    }\n  });\n  return function registerWithEmailAndPassword(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar loginWithEmailAndPassword = function () {\n  var _ref2 = _asyncToGenerator(function* (email, password) {\n    try {\n      var res = yield signInWithEmailAndPassword(auth, email, password);\n      var userId = res.user.uid;\n      var userRef = doc(db, \"users\", userId);\n      var userDoc = yield getDoc(userRef);\n      return {\n        success: true,\n        user: userDoc.data()\n      };\n    } catch (err) {\n      console.error(err);\n    }\n  });\n  return function loginWithEmailAndPassword(_x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar logout = function () {\n  var _ref3 = _asyncToGenerator(function* () {\n    yield signOut(auth);\n    return {\n      success: true\n    };\n  });\n  return function logout() {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport { loginWithEmailAndPassword, logout, registerWithEmailAndPassword };","map":{"version":3,"names":["auth","db","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","getDoc","doc","setDoc","registerWithEmailAndPassword","_ref","_asyncToGenerator","name","email","password","console","log","res","user","userDocRef","uid","success","error","_x","_x2","_x3","apply","arguments","loginWithEmailAndPassword","_ref2","userId","userRef","userDoc","data","err","_x4","_x5","logout","_ref3"],"sources":["D:/Android/vuongletrung/fashion/src/features/firebase/userAuth.js"],"sourcesContent":["import {auth,db} from \"../../../firebase\"\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from \"firebase/auth\"\nimport { getDoc, doc, setDoc} from \"firebase/firestore\"\n\n\nconst registerWithEmailAndPassword = async(name,email,password) => {\n    console.log(email,password,name)\n    try {\n        const res = await createUserWithEmailAndPassword(auth,email,password)\n        const user=res.user;\n        const userDocRef = doc(db,\"users\",user.uid)\n        await setDoc(userDocRef,{\n            uid:user.uid,\n                name,\n                email\n        })\n        return {success:true}\n    } catch (error) {\n        console.error(error)\n    }\n}\n\nconst loginWithEmailAndPassword = async(email,password) => {\n    try{\n        const res = await signInWithEmailAndPassword(auth,email,password)\n        const userId = res.user.uid;\n        const userRef= doc(db,\"users\",userId)\n        const userDoc = await getDoc(userRef)\n        return {\n            success:true,\n            user:userDoc.data()\n        }\n    }catch(err){\n        console.error(err)\n    }\n}\n\nconst logout = async () => {\n    await signOut(auth);\n    return {success:true}\n}\n\nexport {loginWithEmailAndPassword,logout,registerWithEmailAndPassword};"],"mappings":";AAAA,SAAQA,IAAI,EAACC,EAAE;AACf,SAASC,8BAA8B,EAAEC,0BAA0B,EAAEC,OAAO,QAAQ,eAAe;AACnG,SAASC,MAAM,EAAEC,GAAG,EAAEC,MAAM,QAAO,oBAAoB;AAGvD,IAAMC,4BAA4B;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAMC,IAAI,EAACC,KAAK,EAACC,QAAQ,EAAK;IAC/DC,OAAO,CAACC,GAAG,CAACH,KAAK,EAACC,QAAQ,EAACF,IAAI,CAAC;IAChC,IAAI;MACA,IAAMK,GAAG,SAASd,8BAA8B,CAACF,IAAI,EAACY,KAAK,EAACC,QAAQ,CAAC;MACrE,IAAMI,IAAI,GAACD,GAAG,CAACC,IAAI;MACnB,IAAMC,UAAU,GAAGZ,GAAG,CAACL,EAAE,EAAC,OAAO,EAACgB,IAAI,CAACE,GAAG,CAAC;MAC3C,MAAMZ,MAAM,CAACW,UAAU,EAAC;QACpBC,GAAG,EAACF,IAAI,CAACE,GAAG;QACRR,IAAI,EAAJA,IAAI;QACJC,KAAK,EAALA;MACR,CAAC,CAAC;MACF,OAAO;QAACQ,OAAO,EAAC;MAAI,CAAC;IACzB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZP,OAAO,CAACO,KAAK,CAACA,KAAK,CAAC;IACxB;EACJ,CAAC;EAAA,gBAfKb,4BAA4BA,CAAAc,EAAA,EAAAC,GAAA,EAAAC,GAAA;IAAA,OAAAf,IAAA,CAAAgB,KAAA,OAAAC,SAAA;EAAA;AAAA,GAejC;AAED,IAAMC,yBAAyB;EAAA,IAAAC,KAAA,GAAAlB,iBAAA,CAAG,WAAME,KAAK,EAACC,QAAQ,EAAK;IACvD,IAAG;MACC,IAAMG,GAAG,SAASb,0BAA0B,CAACH,IAAI,EAACY,KAAK,EAACC,QAAQ,CAAC;MACjE,IAAMgB,MAAM,GAAGb,GAAG,CAACC,IAAI,CAACE,GAAG;MAC3B,IAAMW,OAAO,GAAExB,GAAG,CAACL,EAAE,EAAC,OAAO,EAAC4B,MAAM,CAAC;MACrC,IAAME,OAAO,SAAS1B,MAAM,CAACyB,OAAO,CAAC;MACrC,OAAO;QACHV,OAAO,EAAC,IAAI;QACZH,IAAI,EAACc,OAAO,CAACC,IAAI,CAAC;MACtB,CAAC;IACL,CAAC,QAAMC,GAAG,EAAC;MACPnB,OAAO,CAACO,KAAK,CAACY,GAAG,CAAC;IACtB;EACJ,CAAC;EAAA,gBAbKN,yBAAyBA,CAAAO,GAAA,EAAAC,GAAA;IAAA,OAAAP,KAAA,CAAAH,KAAA,OAAAC,SAAA;EAAA;AAAA,GAa9B;AAED,IAAMU,MAAM;EAAA,IAAAC,KAAA,GAAA3B,iBAAA,CAAG,aAAY;IACvB,MAAMN,OAAO,CAACJ,IAAI,CAAC;IACnB,OAAO;MAACoB,OAAO,EAAC;IAAI,CAAC;EACzB,CAAC;EAAA,gBAHKgB,MAAMA,CAAA;IAAA,OAAAC,KAAA,CAAAZ,KAAA,OAAAC,SAAA;EAAA;AAAA,GAGX;AAED,SAAQC,yBAAyB,EAACS,MAAM,EAAC5B,4BAA4B"},"metadata":{},"sourceType":"module","externalDependencies":[]}